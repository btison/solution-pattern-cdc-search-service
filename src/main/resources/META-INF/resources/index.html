<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Search Service</title>

    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>


    <script src="./controller.js"></script>
</head>

<body ng-app="SearchModule" ng-controller="SearchController" class="bg-light">

    <div class="container  pb-3 pt-3">

        <div id="description" class="row">
            <h2 class="text-center display-4 m-1 text-muted rounded">Search</h2>
            <p class="text-center lead ">Modernization with CDC Solution Pattern - A sample app for Product Search.</p>
        </div>
            <div class="row text-center p-1 shadow p-3 mb-5 rounded">

                <div class="row">
                    <span class="text-primary col-sm-12 p-0 fw-light fs-3 text-center">Search Product</span>
                <div/>

                <div id="search" class="row btn-toolbar pt-0 align-items-baseline" role="toolbar" aria-label="Toolbar">
                    <div class="col-sm-12 d-flex justify-content-center pt-3">
                        <div class="input-group " >
                            <img class="input-group-text m-3 me-0" src="img/search.svg" alt="Search product name"/>
                            <input id="name_input" type="text" class="form-control m-3 ms-0" placeholder="Product name"
                                   ng-model="name" ng-keyup="findProducts($event);"/>

                            <img class="input-group-text m-3 me-0" src="img/search.svg" alt="Search product description"/>
                            <input id="description_input" type="text" class="form-control m-3 ms-0" placeholder="Product description"
                                   ng-model="description" ng-keyup="findProducts($event);"/>
                        </div>
                    </div>
                    <div class="row">
                        <small id="search_name_info" class="text-muted form-text p-0">
                            Try four or more letters to filter results.
                        </small>
                    </div>
                </div>

                <table class="table table-sm .table-borderless caption-top align-left">
                    <caption>List of products</caption>
                    <thead class="table-light">
                        <tr>
                            <th scope="col" class="col-1 align-left">Name</th>
                            <th scope="col" class="col-2 align-left">Description</th>
                        </tr>
                    </thead>
                    <tr ng-repeat="product in products">
                        <td>{{product.name}}</td>
                        <td>{{product.description }}</td>
                    </tr>
                </table>

            </div>
        </div>
    </div>
</body>
</html>
